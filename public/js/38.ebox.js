(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{pNY4:function(e,t,i){"use strict";i.r(t);var a={data:function(){return{csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),editmode:!1,dialog:!1,dialogDelete:!1,search:"",snack:!1,multiLine:!0,snackColor:"",snackText:"",max100chars:function(e){return e.length<=100||"Input too long!"},pendidikan:[],editedIndex:-1,editedItem:{id:"",pendidikan_terakhir:"",pendidikan_terakhirEdit:"",pendidikanRules:[function(e){return!!e||"Nama pendidikan belum diisi"}]},valid:!0,kantor_id:"",form:new Form({id:"",pendidikan_terakhir:""})}},computed:{headers:function(){var e=[{text:"No",value:"index",align:"center",sortable:!1},{text:"pendidikan",value:"pendidikan_terakhir"}];return this.$gate.isAdmin()&&e.push({text:"Hapus",value:"actions",sortable:!1}),e},formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},created:function(){this.$Progress.start(),this.initialize(),this.$Progress.finish()},methods:{save:function(){this.snack=!0,this.snackColor="success",this.snackText="Data disimpan",this.updateUser()},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Dibatalkan"},open:function(e){this.snack=!0,this.snackColor="info",this.snackText="Enter = Simpan",this.editedItem.id=e.id,this.editedItem.pendidikan_terakhir=e.pendidikan_terakhir},close:function(){console.log("Dialog closed")},pencetKeyboard:function(e){var t=(e=e||window.event).which?e.which:e.keyCode;if(191!==t&&220!==t)return!0;e.preventDefault()},initialize:function(){var e=this;this.$Progress.start(),this.$gate.isAdmin()&&axios.get("api/pendidikan").then((function(t){e.pendidikan=t.data.data})),this.$Progress.finish()},editpendidikan:function(e){this.editedIndex=this.pendidikan.indexOf(e),this.item.id=e.id,this.item.pendidikan_terakhir=e.pendidikan_terakhir,console.log(this.item.id)},newModal:function(){this.editmode=!1,$("#addNew").modal("show"),this.$refs.form.reset(),this.editedItem.pendidikan_terakhir=""},createUser:function(){var e=this;this.$refs.form.validate(),this.$Progress.start();var t=new FormData;t.set("pendidikan_terakhir",this.editedItem.pendidikan_terakhir),axios.post("api/pendidikan",t,{headers:{"content-type":"multipart/form-data"}}).then((function(t){$("#addNew").modal("hide"),Toast.fire({icon:"success",title:t.data.message}),e.$Progress.finish(),e.initialize()})).catch((function(e){Toast.fire({icon:"error",title:"Gagal tambah pendidikan, ulangi!"})}))},updateUser:function(){var e=this;this.$Progress.start();var t=new FormData;t.set("pendidikan_terakhir",this.editedItem.pendidikan_terakhir),t.append("_method","PUT"),axios.post("api/pendidikan/"+this.editedItem.id,t).then((function(t){$("#addNew").modal("hide"),Toast.fire({icon:"success",title:t.data.message}),e.$Progress.finish(),e.initialize()})).catch((function(){e.$Progress.fail()}))},deleteUser:function(e){var t=this;Swal.fire({title:"Yakin dihapus?",text:"Jika dihapus data hilang!",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Hapus!"}).then((function(i){i.value&&t.form.delete("api/pendidikan/"+e).then((function(){Swal.fire("Dihapus!","Data telah dihapus.","success"),t.initialize()})).catch((function(e){Swal.fire("Failed!",e.message,"warning")}))}))}}},n=i("KHd+"),s=Object(n.a)(a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",[i("v-container",{attrs:{fluid:""}},[i("v-row",{staticClass:"justify-content-md-center",attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"7"}},[e.$gate.isAdmin()?i("v-card",{staticClass:"pa-2 mx-auto"},[i("v-toolbar",{attrs:{color:"green lighten-1",dark:"",shaped:""}},[i("v-toolbar-title",[e._v("\r\n                    Master Pendidikan\r\n                ")]),e._v(" "),i("v-spacer"),e._v(" "),i("v-btn",{attrs:{small:"",color:"indigo",dark:""},on:{click:e.newModal}},[i("v-icon",[e._v("mdi-plus-box")]),e._v(" Tambah\r\n                  ")],1)],1),e._v(" "),i("div",{staticClass:"card-body table-responsive p-0"},[i("v-data-table",{staticClass:"elevation-3",attrs:{headers:e.headers,items:e.pendidikan,search:e.search,justify:"center",dense:""},scopedSlots:e._u([{key:"item.index",fn:function(t){var i=t.index;return[e._v("\r\n                    "+e._s(i+1)+"\r\n                ")]}},{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:""}},[i("v-spacer"),e._v(" "),i("v-spacer"),e._v(" "),i("v-spacer"),e._v(" "),i("v-spacer"),e._v(" "),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Cari Pendidikan Terakhir","single-line":"","hide-details":"",loading:"grey"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[i("v-icon",{staticClass:"mr-4",attrs:{small:"",color:"red",right:""},on:{click:function(t){return e.deleteUser(a.id)}}},[e._v("\r\n                    mdi-delete\r\n                ")])]}},{key:"item.pendidikan_terakhir",fn:function(t){var a=t.item;return[i("v-edit-dialog",{on:{save:e.save,cancel:e.cancel,open:function(t){return e.open(a)},close:e.close},scopedSlots:e._u([{key:"input",fn:function(){return[i("div",{staticClass:"mt-4 text-h6"},[e._v("\r\n                            Edit Pendidikan\r\n                            ")]),e._v(" "),i("v-text-field",{attrs:{rules:[e.max100chars],label:"Edit","single-line":"",counter:""},model:{value:e.editedItem.pendidikan_terakhir,callback:function(t){e.$set(e.editedItem,"pendidikan_terakhir",t)},expression:"editedItem.pendidikan_terakhir"}})]},proxy:!0}],null,!0)},[e._v("\r\n                        "+e._s(a.pendidikan_terakhir)+"\r\n                        ")])]}}],null,!1,1535677955)})],1)],1):e._e()],1),e._v(" "),i("v-col",{attrs:{cols:"4"}},[i("v-snackbar",{staticStyle:{},attrs:{timeout:4e3,color:e.snackColor,"multi-line":e.multiLine,"position:":"",absolute:"",right:""},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[i("v-btn",e._b({attrs:{text:""},on:{click:function(t){e.snack=!1}}},"v-btn",a,!1),[e._v("\r\n                    Close\r\n                    ")])]}}]),model:{value:e.snack,callback:function(t){e.snack=t},expression:"snack"}},[e._v("\r\n                "+e._s(e.snackText)+"\r\n\r\n                ")])],1)],1),e._v(" "),e.$gate.isAdmin()?e._e():i("div",[i("not-found")],1),e._v(" "),i("div",{staticClass:"modal fade",attrs:{id:"addNew",tabindex:"-1",role:"dialog","aria-labelledby":"addNew","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",{directives:[{name:"show",rawName:"v-show",value:!e.editmode,expression:"!editmode"}],staticClass:"modal-title"},[e._v("Tambah Pendidikan")]),e._v(" "),i("h5",{directives:[{name:"show",rawName:"v-show",value:e.editmode,expression:"editmode"}],staticClass:"modal-title"},[e._v("Edit Data User")]),e._v(" "),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])]),e._v(" "),i("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.createUser.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("div",{staticClass:"modal-body"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.csrf,expression:"csrf"}],attrs:{type:"hidden",name:"_token"},domProps:{value:e.csrf},on:{input:function(t){t.target.composing||(e.csrf=t.target.value)}}}),e._v(" "),i("div",{staticClass:"form-group input-group"},[i("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[i("v-text-field",{attrs:{rules:e.editedItem.pendidikanRules,label:"Nama pendidikan",name:"pendidikan_terakhir",placeholder:"input",outlined:"",required:"",dense:"","prepend-icon":"mdi-account-plus"},model:{value:e.editedItem.pendidikan_terakhir,callback:function(t){e.$set(e.editedItem,"pendidikan_terakhir",t)},expression:"editedItem.pendidikan_terakhir"}})],1)],1)]),e._v(" "),i("div",{staticClass:"modal-footer"},[i("v-btn",{attrs:{color:"error",elevation:"2",type:"button","data-dismiss":"modal"}},[i("v-icon",[e._v("mdi-cancel")]),e._v("\r\n                            Batal\r\n                        ")],1),e._v(" "),i("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.editmode,expression:"editmode"}],attrs:{color:"success",elevation:"2",type:"submit"}},[i("v-icon",[e._v("mdi-pencil")]),e._v("\r\n                            Ubah\r\n                        ")],1),e._v(" "),i("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.editmode,expression:"!editmode"}],attrs:{color:"primary",elevation:"2",type:"submit"}},[i("v-icon",[e._v("mdi-plus-box")]),e._v("\r\n                            Tambah\r\n                        ")],1)],1)])],1)])])],1)],1)}),[],!1,null,null,null);t.default=s.exports}}]);
//# sourceMappingURL=38.ebox.js.map