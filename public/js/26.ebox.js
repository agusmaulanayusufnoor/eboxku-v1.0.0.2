(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{FOBs:function(t,a,e){"use strict";e.r(a);var o={data:function(){return{editmode:!1,dialog:!1,dialogDelete:!1,search:"",headers:[{text:"No",value:"index"},{text:"Username",align:"start",value:"username"},{text:"Nama",value:"name"},{text:"Divisi",value:"type"},{text:"Kantor",value:"nama_kantor"},{text:"Otorisator",value:"otorisator"},{text:"Edit - Hapus",value:"actions",sortable:!1}],users:[],form:new Form({id:"",name:"",username:"",password:"",type:"",kantor_id:"",otorisator:"0"})}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},created:function(){this.$Progress.start(),this.initialize(),this.$Progress.finish()},methods:{initialize:function(){var t=this;this.$Progress.start(),this.$gate.isAdmin()&&axios.get("api/user").then((function(a){t.users=a.data.data})),this.$Progress.finish()},editModal:function(t){this.editmode=!0,this.form.reset(),$("#addNew").modal("show"),this.form.fill(t)},newModal:function(){this.editmode=!1,this.form.reset(),$("#addNew").modal("show")},createUser:function(){var t=this;this.form.post("api/user").then((function(a){$("#addNew").modal("hide"),Toast.fire({icon:"success",title:a.data.message}),t.$Progress.finish(),t.initialize()})).catch((function(){Toast.fire({icon:"error",title:"Ada kesalahan, coba lagi..."})}))},updateUser:function(){var t=this;this.$Progress.start(),this.form.put("api/user/"+this.form.id).then((function(a){$("#addNew").modal("hide"),Toast.fire({icon:"success",title:a.data.message}),t.$Progress.finish(),t.initialize()})).catch((function(){t.$Progress.fail()}))},deleteUser:function(t){var a=this;Swal.fire({title:"Yakin dihapus?",text:"Jika dihapus data hilang!",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Ya, Hapus!"}).then((function(e){e.value&&a.form.delete("api/user/"+t).then((function(){Swal.fire("Dihapus!","Data telah dihapus.","success"),a.initialize()})).catch((function(t){Swal.fire("Failed!",t.message,"warning")}))}))}}},s=e("KHd+"),r=Object(s.a)(o,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-app",[e("v-container",{attrs:{fluid:""}},[e("v-row",{staticClass:"justify-content-md-center",attrs:{"no-gutters":""}},[e("v-col",{attrs:{cols:"11"}},[t.$gate.isAdmin()?e("v-card",{staticClass:"pa-2 mx-auto"},[e("v-toolbar",{attrs:{src:"images/banner-green.jpg",color:"grey lighten-1",dark:"",shaped:""}},[e("v-toolbar-title",[t._v(" Data User ")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{small:"",color:"primary",dark:""},on:{click:t.newModal}},[e("v-icon",[t._v("mdi-account-plus")])],1)],1),t._v(" "),e("div",{staticClass:"card-body table-responsive p-0"},[e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.users,search:t.search},scopedSlots:t._u([{key:"item.index",fn:function(a){var e=a.index;return[t._v("\n                "+t._s(e+1)+"\n              ")]}},{key:"top",fn:function(){return[e("v-toolbar",{attrs:{flat:""}},[e("v-spacer"),t._v(" "),e("v-spacer"),t._v(" "),e("v-spacer"),t._v(" "),e("v-spacer"),t._v(" "),e("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Cari Data","single-line":"","hide-details":"",loading:"grey"},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1)]},proxy:!0},{key:"item.actions",fn:function(a){var o=a.item;return[e("v-icon",{staticClass:"mr-5",attrs:{small:"",color:"green"},on:{click:function(a){return t.editModal(o)}}},[t._v("\n                  mdi-pencil\n                ")]),t._v(" "),e("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"red"},on:{click:function(a){return t.deleteUser(o.id)}}},[t._v("\n                  mdi-delete\n                ")])]}}],null,!1,1804539273)})],1)],1):t._e()],1)],1),t._v(" "),t.$gate.isAdmin()?t._e():e("div",[e("not-found")],1),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"addNew",tabindex:"-1",role:"dialog","aria-labelledby":"addNew","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{directives:[{name:"show",rawName:"v-show",value:!t.editmode,expression:"!editmode"}],staticClass:"modal-title"},[t._v("Tambah User Baru")]),t._v(" "),e("h5",{directives:[{name:"show",rawName:"v-show",value:t.editmode,expression:"editmode"}],staticClass:"modal-title"},[t._v("Edit Data User")]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])]),t._v(" "),e("form",{on:{submit:function(a){a.preventDefault(),t.editmode?t.updateUser():t.createUser()}}},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Nama")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("name")},attrs:{type:"text",name:"name"},domProps:{value:t.form.name},on:{input:function(a){a.target.composing||t.$set(t.form,"name",a.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"name"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("Username")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("username")},attrs:{type:"text",name:"username"},domProps:{value:t.form.username},on:{input:function(a){a.target.composing||t.$set(t.form,"username",a.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"username"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("Password")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("password")},attrs:{type:"password",name:"password",autocomplete:"false"},domProps:{value:t.form.password},on:{input:function(a){a.target.composing||t.$set(t.form,"password",a.target.value)}}}),t._v(" "),e("has-error",{attrs:{form:t.form,field:"password"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("Level User")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.type,expression:"form.type"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("type")},attrs:{name:"type",id:"type"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"type",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("- Pilih Level User -")]),t._v(" "),e("option",{attrs:{value:"admin"}},[t._v("Admin")]),t._v(" "),e("option",{attrs:{value:"pelayanan"}},[t._v("Pelayanan")]),t._v(" "),e("option",{attrs:{value:"kredit"}},[t._v("Kredit")]),t._v(" "),e("option",{attrs:{value:"akunting"}},[t._v("Umum dan Akunting Cabang")]),t._v(" "),e("option",{attrs:{value:"umumpst"}},[t._v("Umum Pusat")]),t._v(" "),e("option",{attrs:{value:"bisnis"}},[t._v("Bisnis Pusat")]),t._v(" "),e("option",{attrs:{value:"sekdir"}},[t._v("Sekretaris Direktur")]),t._v(" "),e("option",{attrs:{value:"skai"}},[t._v("SKAI")]),t._v(" "),e("option",{attrs:{value:"sdm"}},[t._v("SDM")])]),t._v(" "),e("has-error",{attrs:{form:t.form,field:"type"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("Kantor")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.kantor_id,expression:"form.kantor_id"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("kantor_id")},attrs:{name:"kantor_id",id:"kantor_id"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"kantor_id",a.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v("- Pilih Kantor -")]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v("001 - Pusat")]),t._v(" "),e("option",{attrs:{value:"2"}},[t._v("002 - Cab. Cisalak")]),t._v(" "),e("option",{attrs:{value:"3"}},[t._v("003 - Cab. KPO")]),t._v(" "),e("option",{attrs:{value:"4"}},[t._v("004 - Cab. Subang")]),t._v(" "),e("option",{attrs:{value:"5"}},[t._v("004 - Cab. Purwadadi")]),t._v(" "),e("option",{attrs:{value:"6"}},[t._v("006 - Cab. Pamanukan")]),t._v(" "),e("option",{attrs:{value:"7"}},[t._v("007 - Cab. Majalengka")]),t._v(" "),e("option",{attrs:{value:"8"}},[t._v("008 - Cab. Panyingkiran")]),t._v(" "),e("option",{attrs:{value:"9"}},[t._v("009 - Cab. Banjaran")]),t._v(" "),e("option",{attrs:{value:"10"}},[t._v("010 - Cab. Cingambul")]),t._v(" "),e("option",{attrs:{value:"11"}},[t._v("011 - Cab. Bekasi")]),t._v(" "),e("option",{attrs:{value:"12"}},[t._v("012 - Cab. Pondokgede")]),t._v(" "),e("option",{attrs:{value:"13"}},[t._v("013 - Cab. Cibitung")]),t._v(" "),e("option",{attrs:{value:"14"}},[t._v("014 - Cab. Setu")]),t._v(" "),e("option",{attrs:{value:"15"}},[t._v("015- Cab. Cibarusah")]),t._v(" "),e("option",{attrs:{value:"16"}},[t._v("016 - Cab. Sukatani")]),t._v(" "),e("option",{attrs:{value:"17"}},[t._v("017 - Cab. Cibarusah")]),t._v(" "),e("option",{attrs:{value:"18"}},[t._v("018 - Cab. Ciamis")])]),t._v(" "),e("has-error",{attrs:{form:t.form,field:"kantor_id"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("label",[t._v("Otorisator")]),e("br"),t._v(" "),e("div",{staticClass:"form-check form-check-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.otorisator,expression:"form.otorisator"}],staticClass:"form-check-input",attrs:{type:"radio",name:"inlineRadioOptions",id:"inlineRadio1",value:"1"},domProps:{checked:t._q(t.form.otorisator,"1")},on:{change:function(a){return t.$set(t.form,"otorisator","1")}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio1"}},[t._v("Ya")])]),t._v(" "),e("div",{staticClass:"form-check form-check-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.otorisator,expression:"form.otorisator"}],staticClass:"form-check-input",attrs:{type:"radio",name:"inlineRadioOptions",id:"inlineRadio2",value:"0"},domProps:{checked:t._q(t.form.otorisator,"0")},on:{change:function(a){return t.$set(t.form,"otorisator","0")}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"inlineRadio2"}},[t._v("Tidak")])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("v-btn",{attrs:{color:"error",elevation:"2",type:"button","data-dismiss":"modal"}},[e("v-icon",[t._v("mdi-account-cancel")]),t._v("\n                Batal\n              ")],1),t._v(" "),e("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.editmode,expression:"editmode"}],attrs:{color:"success",elevation:"2",type:"submit"}},[e("v-icon",[t._v("mdi-pencil")]),t._v("\n                Ubah\n              ")],1),t._v(" "),e("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.editmode,expression:"!editmode"}],attrs:{color:"primary",elevation:"2",type:"submit"}},[e("v-icon",[t._v("mdi-account-plus")]),t._v("\n                Tambah\n              ")],1)],1)])])])])],1)],1)}),[],!1,null,null,null);a.default=r.exports}}]);
//# sourceMappingURL=26.ebox.js.map